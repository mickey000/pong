(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(48)},40:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(25),i=n.n(o),s=n(18),c=n(8),u=n(9),l=n(11),p=n(10),v=n(12),d=n(6),f=n(14),b="setWinner",m="updatePositions",h="setBallMove",y="setBallPosition",O="setRightPosition",P="setLeftPosition",j="checkCollision",g={startRound:function(){return{type:"startRound"}},setPause:function(){return{type:"setPause"}},updatePositions:function(){return{type:m}},resetPositions:function(){return{type:"resetPositions"}}},w=[-1,1],E=function(){return w[Math.round(Math.random())]},k={setBallMove:function(e,t){return{type:h,moveX:e||E(),moveY:t||E()}}},x={setLeftMove:function(e){return{type:"setLeftMove",moveY:e}}},M={setRightMove:function(e){return{type:"setRightMove",moveY:e}}},Y=n(17),R=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"getPosition",value:function(){var e,t=this.props,n=t.side,r=t.position;return e={},Object(Y.a)(e,n,0),Object(Y.a)(e,"bottom",r),e}},{key:"render",value:function(){var e=this.getPosition();return a.a.createElement("div",{className:"stick",style:e})}}]),t}(r.Component),N=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"getPosition",value:function(){var e=this.props.position;return{left:e.x,bottom:e.y}}},{key:"render",value:function(){var e=this.getPosition();return a.a.createElement("div",{className:"ball",style:e})}}]),t}(r.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.message;return a.a.createElement("div",{className:"banner-wrapper"},a.a.createElement("div",{className:"banner"},a.a.createElement("p",{className:"message"},e)))}}]),t}(r.Component),C={UP:38,DOWN:40,W:87,S:83,P:80,R:82,SPACE:32},D={UP:1,DOWN:-1,LEFT:-1,RIGHT:1,ZERO:0},L=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).updatePositions=function(){var e=n.props.shouldUpdatePositions;if(!e&&n.updatePositionsInterval)return clearInterval(n.updatePositionsInterval),void delete n.updatePositionsInterval;e&&!n.updatePositionsInterval&&(n.updatePositionsInterval=setInterval(n.props.updatePositions,1e3/60))},n.handleKeyDown=function(e){switch(e.keyCode){case C.W:return e.preventDefault(),void n.props.setLeftMove(D.UP);case C.S:return e.preventDefault(),void n.props.setLeftMove(D.DOWN);case C.UP:return e.preventDefault(),void n.props.setRightMove(D.UP);case C.DOWN:return e.preventDefault(),void n.props.setRightMove(D.DOWN);case C.SPACE:return e.preventDefault(),n.props.round?n.props.round?void n.props.setPause():void 0:(n.props.resetPositions(),n.props.startRound(),void n.props.setBallMove());default:return}},n.handleKeyUp=function(e){switch(e.keyCode){case C.W:case C.S:return e.preventDefault(),void n.props.setLeftMove(D.ZERO);case C.UP:case C.DOWN:return e.preventDefault(),void n.props.setRightMove(D.ZERO);default:return}},n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),this.updatePositions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)}},{key:"componentDidUpdate",value:function(){this.updatePositions()}},{key:"render",value:function(){var e=this.props,t=e.leftPosition,n=e.rightPosition,r=e.ballPosition,o=e.banner,i=e.bannerMessage;return a.a.createElement("div",{className:"playground"},a.a.createElement(R,{side:"left",position:t}),a.a.createElement(R,{side:"right",position:n}),a.a.createElement(N,{position:r}),o&&a.a.createElement(S,{message:i}))}}]),t}(r.Component),U=Object(s.b)(function(e){var t=e.gameState,n=e.leftPlayer,r=e.rightPlayer,a=e.ball;return{leftPosition:n.position,rightPosition:r.position,ballPosition:a.position,shouldUpdatePositions:t.round&&!t.pause&&(n.moveY||r.moveY||a.moveX||a.moveY),banner:t.banner,bannerMessage:t.bannerMessage,pause:t.pause,round:t.round}},function(e){return Object(f.b)(Object(d.a)({},g,k,x,M),e)})(L),W=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).getScore=function(e){return e<10?"0".concat(e):e},n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.score;return a.a.createElement("header",{className:"header"},a.a.createElement("div",{className:"section left"},a.a.createElement("div",{className:"line player-name"},"PLAYER 01"),a.a.createElement("div",{className:"line player-score"},"SCORE: ",this.getScore(e.leftPlayer))),a.a.createElement("div",{className:"section right"},a.a.createElement("div",{className:"line player-name"},"PLAYER 02"),a.a.createElement("div",{className:"line player-score"},"SCORE: ",this.getScore(e.rightPlayer))))}}]),t}(r.Component),A=Object(s.b)(function(e){return{score:e.gameState.score}},void 0)(W),I=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement(A,null),a.a.createElement(U,null))}}]),t}(r.Component),X=n(29),K=n(7),B=n.n(K),T=n(4),Z=function(e,t){var n=e+t*(320/60);return n<0?0:n>320?320:n},G=function(e,t,n){return{x:e.x+t*(320/60*1),y:e.y+n*(320/60*1)}},J=B.a.mark(H),F=B.a.mark(q);function H(){var e,t,n,r,a,o,i,s,c,u,l,p,v,d,f;return B.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,Object(T.d)();case 2:if(e=b.sent,t=e.gameState,n=e.ball,r=e.leftPlayer,a=e.rightPlayer,t.round&&!t.pause){b.next=9;break}return b.abrupt("return");case 9:return o=n.position,i=n.moveX,s=n.moveY,c=r.position,u=r.moveY,l=a.position,p=a.moveY,v=G(o,i,s),d=Z(c,u),f=Z(l,p),b.next=21,Object(T.a)([Object(T.c)({type:y,position:v}),Object(T.c)({type:P,position:d}),Object(T.c)({type:O,position:f})]);case 21:return b.next=23,Object(T.c)({type:j});case 23:case"end":return b.stop()}},J,this)}function q(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.e)(m,H);case 2:case"end":return e.stop()}},F,this)}var z=function(e,t){return!(e+20<=t)&&!(e>=t+80)},Q=function(e,t,n){var r=e.x,a=e.y;if(r<=20){var o=z(a,t);if(o)return{playerCollision:o};if(r<=0)return{winner:"rightPlayer"}}if(r>=760){var i=z(a,n);if(i)return{playerCollision:i};if(r>=780)return{winner:"leftPlayer"}}return a<=0||a>=380?{wallCollision:!0}:{}},V=B.a.mark(_),$=B.a.mark(ee);function _(){var e,t,n,r,a,o,i,s,c,u,l,p,v;return B.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(T.d)();case 2:if(e=d.sent,t=e.ball,n=e.leftPlayer,r=e.rightPlayer,a=t.moveX,o=t.moveY,i=t.position,s=n.position,c=r.position,u=Q(i,s,c),l=u.winner,p=u.playerCollision,v=u.wallCollision,!l){d.next=17;break}return d.next=15,Object(T.c)({type:b,winner:l});case 15:d.next=25;break;case 17:if(!p){d.next=22;break}return d.next=20,Object(T.c)({type:h,moveX:-1*a,moveY:o});case 20:d.next=25;break;case 22:if(!v){d.next=25;break}return d.next=25,Object(T.c)({type:h,moveX:a,moveY:-1*o});case 25:case"end":return d.stop()}},V,this)}function ee(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.e)(j,_);case 2:case"end":return e.stop()}},$,this)}var te=B.a.mark(ne);function ne(){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(T.b)(q),Object(T.b)(ee)];case 2:case"end":return e.stop()}},te,this)}var re,ae,oe,ie={round:!1,pause:!1,banner:!0,bannerMessage:"PRESS SPACE TO START GAME",score:{leftPlayer:0,rightPlayer:0}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"startRound":return Object(d.a)({},e,{round:!0,banner:!1,bannerMessage:""});case"setPause":return e.round?Object(d.a)({},e,{pause:!e.pause,banner:!e.pause,bannerMessage:e.pause?"":"PAUSE"}):e;case b:var n=t.winner;return{round:!1,pause:!1,banner:!0,bannerMessage:"PLAYER ".concat("leftPlayer"===n?"01":"02"," WINS"),score:Object(d.a)({},e.score,Object(Y.a)({},n,e.score[n]+1))};default:return e}},ce={position:{x:390,y:190},moveX:0,moveY:0},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=t.moveX,r=t.moveY;return Object(d.a)({},e,{moveX:n,moveY:r});case y:var a=t.position;return Object(d.a)({},e,{position:a});case"resetPositions":return ce;default:return e}},le={position:160,moveY:0},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setLeftMove":var n=t.moveY;return Object(d.a)({},e,{moveY:n});case P:var r=t.position;return Object(d.a)({},e,{position:r});case"resetPositions":return le;default:return e}},ve={position:160,moveY:0},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setRightMove":var n=t.moveY;return Object(d.a)({},e,{moveY:n});case O:var r=t.position;return Object(d.a)({},e,{position:r});case"resetPositions":return ve;default:return e}},fe=Object(f.c)({gameState:se,ball:ue,leftPlayer:pe,rightPlayer:de}),be=(re=f.d,ae=Object(X.a)(),oe=Object(f.e)(fe,void 0,re(f.a.apply(void 0,[ae]))),ae.run(ne),oe);n(40);i.a.render(a.a.createElement(s.a,{store:be},a.a.createElement(I,null)),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.8f37dfea.chunk.js.map